<% const pickText=(obj)=> {
        if (!obj) return '';
        if (typeof obj === 'string') return obj;
        const candidates = [obj[lang], obj.ja, obj.en, obj.zh, ...Object.values(obj)];
        return candidates.find((v) => v) || '';
    };
    const withBr = (obj) => pickText(obj).replace(/\\n/g, '<br>').replace(/\n/g, '<br>');
    const head = withBr(site.mainVisualHead);
    const text = withBr(site.mainVisualText);
    const rightTitle = pickText(site.mainVisualTextRightTitle);
    const rightText = pickText(site.mainVisualTextRightText);
    const leftTitle = pickText(site.mainVisualTextLeftTitle);
    const leftText = pickText(site.mainVisualTextLeftText);
    const mainTitleSub = pickText(site.mainVisualMainTitleSub);
    const mainTitle = withBr(site.mainVisualMainTitle);
    const subtitleClass = `mainvisual_subtitle mainvisual_subtitle_${lang}`;
    const textClass = `mainvisual_text${lang === 'en' ? ' mainvisual_text_en' : ''}`;
    const panelTitleClass = `mainvisual_panel_title${lang === 'en' ? ' mainvisual_panel_title_en' : ''}`;
    const panelTextClass = `mainvisual_panel_text${lang === 'en' ? ' mainvisual_panel_text_en' : ''}`; %>

    <div class="mainvisual">
        <div class="mainvisual_left">
            <p class="<%= subtitleClass %>">
                <%- head %>
            </p>
            <p class="<%= textClass %>">
                <%- text %>
            </p>
            <div class="mainvisual_panels">
                <div class="mainvisual_panel ">
                    <p class="<%= panelTitleClass %> mainvisual_panel_title_left">
                        <%= rightTitle %>
                    </p>
                    <p class="<%= panelTextClass %> mainvisual_panel_text_left">
                        <%= rightText %>
                    </p>
                </div>
                <div class="mainvisual_panel ">
                    <p class="<%= panelTitleClass %> mainvisual_panel_title_right">
                        <%= leftTitle %>
                    </p>
                    <p class="<%= panelTextClass %> mainvisual_panel_text_right">
                        <%= leftText %>
                    </p>
                </div>
            </div>
        </div>
        <div class="mainvisual_right">
            <div class="mainvisual_text_wrap">
                <p class="mainvisual_main_sub">
                    <%= mainTitleSub %>
                </p>
                <p class="mainvisual_main_tltle">
                    <%- mainTitle %>

                </p>
            </div>

        </div>
    </div>