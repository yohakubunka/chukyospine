<%
const pick = (obj) => {
    if (obj === null || obj === undefined) return '';
    if (typeof obj === 'string' || typeof obj === 'number') return String(obj);
    if (Object.prototype.hasOwnProperty.call(obj, lang)) {
        const val = obj[lang];
        return val === undefined || val === null ? '' : String(val);
    }
    return '';
};
const footerData = site.footer || {};
const footerNav = footerData.navItems || [];
const navAnchors = ['#section01', '#section02', '#section03', '#section05', '#section06', '#section07', '#section08'];
const footerLogoMap = {
    ja: './images/footer_logo_ja.svg',
    en: './images/footer_logo_en.svg',
    zh: './images/footer_logo_ch.svg',
};
const footerLogo = footerLogoMap[lang] || './images/footer_logo.svg';
%>
    <footer class="footer">
        <div class="page-width">
            <img class="footer_logo" src="<%= footerLogo %>" alt="" aria-hidden="true" />
            <div class="footer_cta">
                <div class="footer_social_icons">
                    <a href="#" onclick="alert('Comming soon...'); return false;" aria-label="LINE">
                        <img class="" src="./images/line_icon.svg" alt="" aria-hidden="true" />
                    </a>
                    <a href="https://u.wechat.com/EOM2LR1ErOIhdV3MYAuFMhY?s=4" target="_blank" rel="noopener noreferrer" aria-label="WeChat">
                        <img class="" src="./images/wechat_icon.svg" alt="" aria-hidden="true" />
                    </a>
                    <a href="https://www.instagram.com/dr.tk_csc/?igsh=MWduazBmYjZhZXlzcg%3D%3D#" target="_blank" rel="noopener noreferrer" aria-label="instagram">
                        <img class="" src="./images/instagram.svg" alt="" aria-hidden="true" />
                    </a>
                    <a href="https://www.tiktok.com/@dr.tk_csc" target="_blank" rel="noopener noreferrer" aria-label="tiktok">
                        <img class="" src="./images/tiktok.svg" alt="" aria-hidden="true" />
                    </a>
                </div>
                <p class="footer_cta_text">
                    <%= pick(footerData.cta) %>
                </p>
            </div>
            <nav class="footer_nav">
                <ul class="footer_nav_list">
                    <% footerNav.forEach(function(item, index) { const href = navAnchors[index] || '#'; %>
                        <li class="footer_nav_item">
                            <a href="<%= href %>">
                                <%= pick(item.label) %>
                            </a>
                        </li>
                        <% }) %>
                </ul>
            </nav>

            <div class="footer_info">
                <div class="footer_payment">
                    <img class="" src="./images/card_icon.svg" alt="" aria-hidden="true" />
                    <p>
                        <span class="payment_title"><%= pick(footerData.paymentTitle) %></span>
                        <%= pick(footerData.paymentMethods) %>
                    </p>
                </div>
                <p class="footer_copyright">
                    <%= pick(footerData.copyright) %>
                </p>


            </div>
    </footer>